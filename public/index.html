<!DOCTYPE html>
<html>
  <head>
	<link rel="stylesheet" type="text/css" href="css/styles.css">
    <title>socket.io</title>
  </head>
  <body>
  
    <!-- <img src="/images/PandaWizard.png"> -->
	<!-- <script src="javascript/script.js"></script> -->
    
	
	<ul id="messages"></ul>
	
	<form class="ready-form" action="">
		<input type="radio" name="hero" value="warrior" checked="checked"> Warrior<br>
		<input type="radio" name="hero" value="archer"> Archer<br>
		<input type="radio" name="hero" value="mage"> Mage
		<input type="text" name="user_name" placeholder="Enter your name" required>
		<input type="submit" value="Ready">
	</form>
	
    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
    <script>
		$(function () {
			var socket = io();
			$('.ready-form').submit(function(){
				var character = {
					name: $("[name='user_name']").val(),
					hero: $("[name='hero']:checked").val()	
				};
				//socket.emit( 'player_ready', $("[name='user_name']").val() );
				socket.emit( 'player_ready', character );
				$('.ready-form').replaceWith( "<div class='ready-form'>Player " + $("[name='user_name']").val() + " is ready!</div>" );
				return false;
			});
			socket.on('ready_message', function(msg){
				//$('#messages').append($('<li>').text(msg));
				//window.scrollTo(0, document.body.scrollHeight);
			});
		});
    </script>
  </body>
</html>