<!DOCTYPE html>
<html>
  <head>
	<link rel="stylesheet" type="text/css" href="css/styles.css">
    <title>socket.io</title>
  </head>
  <body>
  
    <!-- <img src="/images/PandaWizard.png"> -->
	<!-- <script src="javascript/script.js"></script> -->
	
    
	
	<ul id="messages"></ul>
	
	<form class="ready-form" action="">
		<div class="hero-group">
			<input type="radio" name="hero" value="warrior" checked="checked"> Warrior
			<input type="radio" name="hero" value="archer"> Archer
			<input type="radio" name="hero" value="mage"> Mage
		</div>
		<div class="hero-stats">
			attack <input type="range" range-group="stat-group" name="attack" range-group-max-sum="16" min="1" max="10">
			defence <input type="range" range-group="stat-group" name="defence" range-group-max-sum="16" min="1" max="10">
			speed <input type="range" range-group="stat-group" name="speed" range-group-max-sum="16" min="0" max="10">
			luck <input type="range" range-group="stat-group" name="luck" range-group-max-sum="16" min="0" max="10">
			
			<input type="number" name="attack" value="0"><br/>
			<input type="number" name="defence" value="0"><br/>
			<input type="number" name="speed" value="0"><br/>
			<input type="number" name="luck" value="0">
		</div>		
		<input type="text" name="user_name" placeholder="Enter your name" required>
		<input type="submit" value="Ready">
	</form>
	
    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
	<script src="javascript/jquery.rangegroup.js" type="text/javascript"></script>
	
    <script>
		$(function () {
			var socket = io();
			$('.ready-form').submit(function(){
				var character = {
					name: $("[name='user_name']").val(),
					hero: $("[name='hero']:checked").val()	
				};
				//socket.emit( 'player_ready', $("[name='user_name']").val() );
				socket.emit( 'player_ready', character );
				$('.ready-form').replaceWith( "<div class='ready-form'>Player " + $("[name='user_name']").val() + " is ready!</div>" );
				return false;
			});
			socket.on('ready_message', function(msg){
				//$('#messages').append($('<li>').text(msg));
				//window.scrollTo(0, document.body.scrollHeight);
			});
		});
    </script>
  </body>
</html>